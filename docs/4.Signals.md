# Signals API Documentation

The **Signals API** allows strategies or external systems to send actionable trading instructions to the Blitz OMS/Strategy.
Using this API, you can broadcast **Start / Stop / Buy / Sell / Multi-instrument signals** between strategies or modules in real time.

This API is useful for monitoring, routing, and executing strategy-level instructions across different modules.

---
!!! Tip
    Signals are typically used to automate strategy communication and reduce manual order placement.
## Endpoints

| Type | Endpoint   | Description                                                                                                   |
| ---- | ---------- | ------------------------------------------------------------------------------------------------------------- |
| POST | [signals](#post-signal)| Send one or more signals to the strategy engine.|

---
!!! Tip
     Use the Authorization header with a valid token for authentication, just like other Blitz APIs.
## 1. Send Signals {#post-signal}

Send an array of trading signals from one strategy or module to another.
Each signal contains **action**, **instruments**, **time**, and **routing information**.
Signals are also published to the internal **Redis channel `STRATEGYHOSTSERVICE`**, similar to how Trades API provides execution updates.

`
!!! Note
     Signals are not persisted in a traditional databaseâ€”they are meant for real-time strategy routing.

### Request Body

```json
[
  {
    "sourceStrategy": "StrategyA",
    "destinationStrategy": "StrategyB",
    "sourceSID": "SID123",
    "instanceRunningMode": "Live",
    "globalAction": "Start",
    "instruments": [
      {
        "exchangeSegment": "NSE",
        "instrumentName": "RELIANCE",
        "action": "BUY",
        "lot": "1",
        "timeStamp": "2025-10-23T14:30:00Z",
        "infoText": "Test order"
      },
      {
        "exchangeSegment": "BSE",
        "instrumentName": "TCS",
        "action": "SELL",
        "lot": "2",
        "timeStamp": "2025-10-23T14:31:00Z",
        "infoText": "Second order"
      }
    ]
  },
  {
    "sourceStrategy": "StrategyC",
    "destinationStrategy": "StrategyD",
    "sourceSID": "SID456",
    "instanceRunningMode": "Live",
    "globalAction": "Stop",
    "instruments": [
      {
        "exchangeSegment": "NSE",
        "instrumentName": "INFY",
        "action": "BUY",
        "lot": "3",
        "timeStamp": "2025-10-23T14:35:00Z",
        "infoText": "Third order"
      }
    ]
  }
]
```

### cURL

```bash
curl -X POST \
  "http://api.blitz.com/api/signals" \
  -H "accept: application/json" \
  -H "Authorization: Bearer <TOKEN>" \
  -H "Content-Type: application/json" \
  -d '<YOUR_SIGNALS_PAYLOAD>'

```

### Successful Response

```json
{
  "status": "Published"
}
```

!!! Tip
    If you want to debug, subscribe to SignalChannel in Redis to see incoming signals in real time.
      
      * Signals are published to Redis channel `STRATEGYHOSTSERVICE`
      * Backend strategy engine consumes the signals, similar to how Trades API executes and tracks trade orders

---

## Field Descriptions

### Signal Object

| Field                 | Type   | Description                                   |
| --------------------- | ------ | --------------------------------------------- |
| `sourceStrategy`      | string | Strategy sending the signal                   |
| `destinationStrategy` | string | Strategy that should receive the signal       |
| `sourceSID`           | string | Unique strategy instance identifier           |
| `instanceRunningMode` | string | Mode: `Live`, `Paper`, etc.                   |
| `globalAction`        | string | High-level instruction: `Start`, `Stop`, etc. |
| `instruments`         | array  | List of instrument-level actions              |

### Instrument Object

| Field             | Type                  | Description                  |
| ----------------- | --------------------- | ---------------------------- |
| `exchangeSegment` | string                | NSE / BSE / NSEFO / MCX etc. |
| `instrumentName`  | string                | Name of the instrument       |
| `action`          | string                | BUY / SELL / EXIT etc.       |
| `lot`             | string                | Lot size or quantity         |
| `timeStamp`       | string (ISO datetime) | Signal generation time       |
| `infoText`        | string                | Remarks or custom info       |

---

## Edge Cases & Error Handling

### No Signals Provided

```json
{
  "status_code": 400,
  "message": "No signals provided"
}
```
!!! Cause
    Triggered when the payload array is empty ([]).
!!! Effect
     API rejects the request with a 400 Bad Request.

!!! Tip
     Always ensure your signals array contains at least one valid signal object before sending.
!!! Note
     Requests must include a valid, non-empty payload.

### Missing Required Fields in Signal Object
```json
{
  "status_code": 400,
  "response_json": {
    "type": "https://tools.ietf.org/html/rfc9110#section-15.5.1",
    "title": "One or more validation errors occurred.",
    "status": 400,
    "errors": {
      "[1].SourceSID": ["The SourceSID field is required."],
      "[1].GlobalAction": ["The GlobalAction field is required."],
      "[1].DestinationStrategy": ["The DestinationStrategy field is required."],
      "[1].InstanceRunningMode": ["The InstanceRunningMode field is required."]
    }
  }
}
```
!!! Tip
     Validate each signal object before sending. Ensure all required fields are present.

